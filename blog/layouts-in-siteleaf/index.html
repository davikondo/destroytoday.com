



<!DOCTYPE html>
<html>
  <head>
    <meta charset='UTF-8'>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>

    <title>Destroy Today - Layouts in Siteleaf</title>

    <meta property="twitter:account_id" content="14839458">
    <meta name='description' content='Destroy Today is a partnership between builders. Its focus is on solving problems through products crafted with close attention to design and user experience.'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    <link rel='icon' type='image/png' href='/images/favicon.png'>
    <link rel='shortcut icon' type='image/png' href='/images/favicon.png'>

    <link type="application/rss+xml" rel="alternate" title="Destroy Today" href="http://feeds.feedburner.com/destroytoday">
    <link href="//cdn.symbolset.com/def34a3b3a8a2254d0505e930e7725af52921dbe/symbolset.css" rel="stylesheet">
    <link href='/styles/screen.css' rel='stylesheet'>

    <script>
  (function() {
  var config = {
  kitId: 'aeu3zes',
  scriptTimeout: 3000
  };
  var h=document.getElementsByTagName("html")[0];h.className+=" wf-loading";var t=setTimeout(function(){h.className=h.className.replace(/(\s|^)wf-loading(\s|$)/g," ");h.className+=" wf-inactive"},config.scriptTimeout);var tk=document.createElement("script"),d=false;tk.src='//use.typekit.net/'+config.kitId+'.js';tk.type="text/javascript";tk.async="true";tk.onload=tk.onreadystatechange=function(){var a=this.readyState;if(d||a&&a!="complete"&&a!="loaded")return;d=true;clearTimeout(t);try{Typekit.load(config)}catch(b){}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(tk,s)
  })();
</script>

    <script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3256994-11']);
  _gaq.push(['_setDomainName', 'destroytoday.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

    <style>
  
  
  
  
  

  html, body {
    background-color: #FFF;
    color: #000
  }

  ::selection {
    background-color: #8DCF3F;
    color: #FFF;
  }

  .main-header {
    background-color: #8DCF3F;
    color: #FFF;
  }

  a,
  .tweet-button:hover,
  .pagination a:hover {
    color: #000;
  }

  .project-listing:hover img {
    border-bottom-color: #000;
  }

  a:hover,
  .pagination a,
  .content-subheader a:hover,
  .content-body a:hover,
  .content-body .more,
  .content-footer a,
  .tweet-button,
  .listing-footer a:hover,
  .list-footer a,
  .article-footer p a:hover {
    color: #8DCF3F;
  }

  .content-subheader,
  .content-subheader a,
  .listing-footer,
  .listing-footer a,
  .main-footer,
  .article-footer p,
  .article-footer p a {
    color: #999;
  }

  .main-header a {
    color: #FFF;
  }

  .content-body a {
    border-bottom: solid 2px #8DCF3F;
  }

  .content-body blockquote {
    border-left-color: #8DCF3F;
  }
</style>

  </head>

  <body class='post'>
    <header id='main-header' class='main-header ss-navigatedown'>
      <div class='wrapper'>
        <h1 class='main-title'>
          <a href='/'>
            <span class='main-title-prefix'>destroy</span><span class='main-title-suffix'>today</span>
          </a>
        </h1>
        <nav class='main-nav'>
          <ul class='main-nav-list'>
            
            

            
              
            
              
                

                <li>
                  <a href='/about'>About</a>
                </li>

                
              
            
              
                

                <li>
                  <a href='/office-hours'>Office Hours</a>
                </li>

                
              
            
              
                
                  </ul>
                  <ul class='main-nav-list'>
                

                <li class='is-selected'>
                  <a href='/blog'>Writings</a>
                </li>

                
              
            
              
                

                <li>
                  <a href='/findings'>Findings</a>
                </li>

                
              
            
              
                
                  </ul>
                  <ul class='main-nav-list'>
                

                <li>
                  <a href='/work'>Projects</a>
                </li>

                
              
            
              
                

                <li>
                  <a href='/experiments'>Experiments</a>
                </li>

                
              
            
          </ul>
        </nav>
      </div>
    </header>

    <main class='main-content'>
      <div class='wrapper'>
        
<article class='article'>
  <header class='content-header'>
    <h2 class='content-title webfont'>
      <a href='/blog/layouts-in-siteleaf'>Layouts in Siteleaf</a>
    </h2>
    <h3 class='content-subheader'>
      <a class='next nav-icon ss-icon' href='/blog/building-the-pencil-page' style='visibility: visible'>navigateleft</a>
      <a class='content-date' href='/blog/layouts-in-siteleaf'>October 28, 2013</a>
      <a class='previous nav-icon ss-icon' href='/blog/brooklyn-beta-is-people' style='visibility: visible'>navigateright</a>
    </h3>
  </header>
  <div class='content-body'>
    <p><img src="/assets/layouts-in-siteleaf.svg" alt="layouts-in-siteleaf"></p>

<p>In my last article about <a href="http://siteleaf.com">Siteleaf</a>, I wrote about what goes into <a href="/blog/porting-a-theme-to-siteleaf/">porting a theme</a> to Siteleaf from another CMS. This time around, I’ll show you how to write cleaner, less redundant templates through the use of layouts.</p>

<h3>What is a layout?</h3>

<pre><code class="html">&lt;html&gt;
    &lt;head&gt;
        ...
    &lt;/head&gt;
    &lt;body&gt;
        &lt;header&gt;...&lt;/header&gt;
        {{ content }}
        &lt;footer&gt;...&lt;/footer&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>In Siteleaf, a layout is a base template that can be used and reused as a foundation for your website. For example, the <a href="https://github.com/destroytoday/destroytoday.com/blob/master/_layouts/default.html">default layout</a> for my website consists of the HTML head content, the header, and the footer. In between the header and footer, I use a <code>{{ content }}</code> tag to insert the rest of my website’s content. This way, I don’t need to copy and paste the surrounding code into every template. I can assign a block of HTML to the <code>content</code> variable and <a href="https://github.com/Shopify/liquid/">Liquid</a>, our templating engine, will place the variable’s value wherever referenced.</p>

<h3>Creating a layout</h3>

<p><img src="/assets/layouts-in-siteleaf-structure-0.jpg" alt="file structure"></p>

<p>Let’s get our hands dirty by building our own layout. Start by creating a <code>_layouts</code> folder in your website’s root directory. In this folder, create a <code>default.html</code> file. This file will be used as the base layout. Below is some basic code you can use to get started with your layout:</p>

<pre><code class="html">&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;{{ title }}&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        {{ content }}
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>This code simply sets the browser window title and shows any HTML assigned to the <code>content</code> variable.</p>

<p><img src="/assets/layouts-in-siteleaf-structure-1.jpg" alt="file structure"> </p>

<p>Now, in your website’s default template (<code>default.html</code> in your root directory), write the following code:</p>

<pre><code class="html">{% capture content %}
    &lt;article&gt;
        &lt;h1&gt;{{ title }}&lt;/h1&gt;
        {{ body }}
    &lt;/article&gt;
{% endcapture %}

{% include &#39;layouts/default&#39; %}
</code></pre>

<p>With Liquid, we can use the <code>capture</code> tag to assign a block of content to a given variable. In our example above, we assign the title and body of the current page to the variable, <code>content</code>. We then use the <code>include</code> tag to take an HTML file—our default layout—and insert it on that line. The included layout will use the <code>content</code> variable we assigned and Liquid will render this template as a complete HTML page.</p>

<h3>Using multiple layouts</h3>

<p>Now that we have a single layout, let’s take a look at adding another one. Imagine we have a blog page that shows a post with next and previous links. Since we don’t want these links on all of our pages, we’ll create a new layout on top of the default layout.</p>

<p><img src="/assets/layouts-in-siteleaf-structure-2.jpg" alt="file structure"> </p>

<p>Start by creating a <code>blog.html</code> file in your <code>_layouts</code> directory and write the following code:</p>

<pre><code class="html">{% capture content %}
    &lt;article&gt;
        &lt;h1&gt;{{ title }}&lt;/h1&gt;
        {{ body }}
    &lt;/article&gt;
    &lt;nav&gt;
        {% if previous %}&lt;a href=&quot;{{ previous }}&quot;&gt;previous&lt;/a&gt;{% endif %}
        {% if next %}&lt;a href=&quot;{{ next }}&quot;&gt;next&lt;/a&gt;{% endif %}
    &lt;/nav&gt;
{% endcapture %}

{% include &#39;layouts/default&#39; %}
</code></pre>

<p>Like before, we assign our title and body to the variable <code>content</code>, but this time, we also add links to the previous and next posts if they exist. Then, we include the default layout.</p>

<p><img src="/assets/layouts-in-siteleaf-structure-3.jpg" alt="file structure"> </p>

<p>Next, we need to write a blog template that uses this layout. Create a <code>blog</code> directory in your website’s folder and a <code>default.html</code> file inside of it. This HTML file will now be used by all pages and posts that start with <code>/blog</code> in their URL. Inside the <code>blog/default.html</code> file, write the following line of code:</p>

<pre><code class="html">{% include &#39;layouts/blog&#39; %}
</code></pre>

<p>Now, all of our blog posts will use the blog layout, displaying the post with next and previous links, but also inheriting the default layout, so we keep all of our HTML head content. We use an include rather than just putting its code in this template because it allows us to reuse the layout elsewhere.</p>

<p>Let’s say we started a new section on our website, like “Library,” which uses posts for books we’ve read. We could change the name of our blog layout to something more reusable, like <code>paginated.html</code>, which tells us that the layout supports pagination through the next and previous links. Then, we can use it for both our blog and our library.</p>

<h3>Wrapping up</h3>

<p>Layouts can be incredibly useful for websites that vary from section to section. They can also help keep code to a minimum, resulting in cleaner code base. Try applying layouts to your current website and see if you can reduce the copy pasta. And, as always, don’t hesitate to <a href="http://twitter.com/destroytoday">reach out</a> if you have any questions.</p>

  </div>
  <footer class='article-footer'>
  
  
  <a class='tweet-button' href='https://twitter.com/intent/tweet?original_referer=http://destroytoday.com/blog/layouts-in-siteleaf&text=I thoroughly enjoyed this post &gt; &quot;Layouts in Siteleaf&quot;:&tw_p=tweetbutton&url=http://destroytoday.com/blog/layouts-in-siteleaf&via=destroytoday' target='_blank'><span class='ss-icon ss-social-regular'>twitter</span><span id='twitter-count' class='count'></span></a>
  <script>
    function count_callback(data) { document.getElementById('twitter-count').innerHTML = data.count; }
    var script = document.createElement('script');
    script.setAttribute("src", 'http://urls.api.twitter.com/1/urls/count.json?callback=count_callback&url=http://destroytoday.com/blog/layouts-in-siteleaf');
    document.getElementsByTagName("head")[0].appendChild(script);
  </script>
</footer>

</article>



<section class='featured-section column-section list-section'>
  <h3>Featured writings</h3>
  <ul class='vertical-list'>
    
      
        <li class='vertical-listing' style="border-left: solid 5px #364350">
          <a href='/blog/building-the-carousel-website'>Building the Carousel website with Dropbox</a>
        </li>
      
    
      
        <li class='vertical-listing' style="border-left: solid 5px #549BA6">
          <a href='/blog/cushion'>Cushion</a>
        </li>
      
    
      
        <li class='vertical-listing' style="border-left: solid 5px #bab0a8">
          <a href='/blog/my-dad'>Book covers, model airplanes, and my dad</a>
        </li>
      
    
      
        <li class='vertical-listing' style="border-left: solid 5px #C94A00">
          <a href='/blog/building-the-pencil-page'>Building the Pencil page with FiftyThree</a>
        </li>
      
    
      
        <li class='vertical-listing' style="border-left: solid 5px #2e9ef0">
          <a href='/blog/gif-workflow'>The perfect GIF workflow using Dropbox and Alfred</a>
        </li>
      
    
      
        <li class='vertical-listing' style="border-left: solid 5px #005dba">
          <a href='/blog/redesigning-with-rules'>Redesigning with rules</a>
        </li>
      
    
      
        <li class='vertical-listing' style="border-left: solid 5px #499462">
          <a href='/blog/lessons-learned-in-a-year-on-my-own'>Lessons learned in a year on my own</a>
        </li>
      
    
      
        <li class='vertical-listing' style="border-left: solid 5px #f5503c">
          <a href='/blog/wedding-tech'>The tech behind our wedding</a>
        </li>
      
    
  </ul>
  <footer class='list-footer'>
    <a href='/blog'>Archive &rarr;</a>
  </footer>
</section>


<footer class='content-footer'>
  <p>Follow <a href='http://twitter.com/destroytoday'>@destroytoday</a> on Twitter.</p>
</footer>


      </div>
    </main>

    <footer class='main-footer'>
      <p>Made with <span class="ss-icon">love</span> in Brooklyn</p>
      <p>&copy; 2014 Destroy Today, LLC. All Rights Reserved</p>
    </footer>

    
  
    <div class='pagination next'>
      <a class='icon ss-navigateleft' href='/blog/building-the-pencil-page'></a>
    </div>
  

  
    <div class='pagination previous'>
      <a class='icon ss-navigateright' href='/blog/brooklyn-beta-is-people'></a>
    </div>
  

  <script>
    document.body.onkeyup = function(e){
      
      if (e.keyCode == '37') { window.location = '/blog/building-the-pencil-page'; }
      

      
      if (e.keyCode == '39') { window.location = '/blog/brooklyn-beta-is-people'; }
      
    };
  </script>



    <script src="//cdn.symbolset.com/def34a3b3a8a2254d0505e930e7725af52921dbe/symbolset.js"></script>
    <script src="//platform.twitter.com/widgets.js"></script>
    <script>
      var mainHeader = document.getElementById('main-header');
      var body = document.body;
      var mainHeader_startHeight,
          startTouchY,
          touchY,
          prevTouchY,
          touchDirection,
          touch;

      mainHeader.addEventListener('click', function(e){
        if (touch || window.innerWidth <= 480)
        {
          e.preventDefault();
        }

        if (this.className.search('is-expanded') == -1)
        {
          this.className += ' is-expanded';
        }
        else
        {
          this.className = this.className.replace(' is-expanded', '');
        }
      });

      [].forEach.call(document.querySelectorAll('.main-nav-list a'), function(link) {
        link.addEventListener('touchstart', function(e) {
          e.stopPropagation();
          e.preventDefault();

          window.location.href = link.href;
        });
      });

      var window_touchmoved = function(e) {
        e.preventDefault();

        touchY = e.changedTouches[0].clientY;
        mainHeader.style.height =
          mainHeader_startHeight + (touchY - startTouchY) + 'px';

        touchDirection = touchY > prevTouchY ? 1 : -1;

        prevTouchY = touchY;
      };

      mainHeader.addEventListener('touchstart', function(e) {
        e.preventDefault();
        touch = true;

        mainHeader_startHeight = this.offsetHeight;
        startTouchY =
          prevTouchY = e.changedTouches[0].clientY;

        this.className += ' is-touching';
        window.addEventListener('touchmove', window_touchmoved, false);
      }, false);

      mainHeader.addEventListener('touchend', function(e) {
        window.removeEventListener('touchmove', window_touchmoved);

        this.style.height = '';
        this.className = this.className.replace(' is-touching', '');

        if (touchDirection == -1)
        {
          this.className = this.className.replace(' is-expanded', '');
        }
        else if (this.className.search('is-expanded') == -1)
        {
          this.className += ' is-expanded';
        }
      }, false);
    </script>
    
<script src="/scripts/rainbow.js"></script>


  </body>
</html>


